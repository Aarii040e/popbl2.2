<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout_main}">

<head>
    <link rel="stylesheet" type="text/css" th:href="@{/css/signup.css}">
</head>

<section layout:fragment="content" class="d-flex mx-auto">

    <form enctype="multipart/form-data" class="d-flex flex-column justify-content-center flex-grow-2 py-3 py-md-0 px-4 px-md-6" th:action="@{/registration/step4}" method="post" role="form" th:object="${userDto}">
        
        <h1 class="mt-3 mb-3" th:text="#{signup}">Sign up</h1>

        <div>
            <div class="userpass d-flex me-2">
                <div class="flex-grow-1 mb-3">
                    <div class="form-floating">
                        <input name="username" th:field="*{username}" type="text" class="form-control rounded-top" placeholder="Username" id="username" required>
                        <label for="username" th:text="#{username}">Username</label>
                    </div>

                    <div class="form-floating">
                        <input th:field="*{password}" name="password" type="password" class="form-control rounded-0" placeholder="Password" id="password1" required>
                        <label for="password1" th:text="#{password}">Password</label>
                    </div>

                    <div class="form-floating">
                        <input name="password_confirmation" type="password" class="form-control rounded-bottom" placeholder="Retype password" id="password2" required>
                        <label for="password2" th:text="#{retype_password}">Retype password</label>
                    </div>
                </div>

                <div class="pfp-container d-flex flex-column justify-content-between rounded p-2 ms-3">
                    <div class="pfp rounded-circle"></div>
                    <div class="iconbtn py-1 text-center" th:text="#{change}">Change</div>
                    <input th:field="*{imageFile}" type="file" class="file" accept="image/*">
                </div>
                
            </div>

            <div class="buttons d-flex">
                <!-- Aqui para darle a atras hay que completar el formulario y no tiene mucho sentido-->
                <a href="/registration/step3" class="btnLink text-decoration-none text-center rounded-1 py-2 w-100 border-0 mx-3 mb-5 mb-md-3" th:text="#{previous}">Previous</a>

                <button type="submit" class="rounded-1 py-2 w-100 border-0 mx-3 mb-5 mb-md-3" th:text="#{continue}">Continue</button>
            </div>
        </div>
    </form>
    <script src="/js/signup_step4.js"></script>
</section>

</html>